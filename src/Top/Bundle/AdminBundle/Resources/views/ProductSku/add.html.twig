{% extends "AdminBundle:Product:layout.html.twig" %}
{% set sub_nav = 'product' %}
{% set script = 'product_sku_add' %}
{% block main %}
    <ol class="breadcrumb">
        <li><a href="{{ path('admin_homepage') }}">首页</a></li>
        <li><a href="{{ path('admin_product') }}">商品列表</a></li>
        <li><a href="{{ path('admin_product_detail', {id: product.id}) }}">商品详情</a></li>
        <li class="active">添加SKU</li>
    </ol>
    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">商品信息</h3>
        </div>
        <table class="table table-bordered table-responsive">
            <tr>
                <th width="10%">商品名称</th>
                <td>{{ product.product_name|raw }}</td>
                <th width="10%">商品分类</th>
                <td>
                    {% if categoryNames is not empty %}
                        {{ categoryNames|raw }}
                    {% else %}
                        N/A
                    {% endif %}
                </td>
            </tr>
        </table>
    </div>
    <div class="panel panel-default">
        <div class="panel-heading">
            添加SKU
        </div>
        <div class="panel-body">
            {{ form_start(form, {'attr': {'class': 'form-horizontal', 'id': 'product-sku-form'}}) }}
            {{ macro.form_row(form.short_name, '商品短名称', {'attr': {'class': 'form-control', 'placeholder' : '商品短名称'}}) }}
            <div class="form-group">
                {{ form_label(form.attributes, 'SKU属性', {'label_attr': {'class': 'col-sm-2 control-label'}}) }}
                <div class="col-sm-10" id="attributes">
                    <table class="table table-bordered">
                        <tr>
                            <th>属性名称</th>
                            <th>属性值</th>
                            <th></th>
                        </tr>
                        <tr>
                            <td>产地</td>
                            <td>眉山</td>
                            <td><a href="#" class="btn-link btn-sm delete">删除属性</a></td>
                        </tr>
                        <tr>
                            <td>净含量</td>
                            <td>250ml</td>
                            <td><a href="#" class="btn-link btn-sm delete">删除属性</a></td>
                        </tr>
                    </table>
                    <div class="agc-mbm">
                        <a href="javascript:;" class="btn btn-success btn-sm" data-toggle="modal" data-target="#modal-global-sm" title="添加新属性">
                            添加新属性<span class="glyphicon glyphicon-plus agc-mls"></span>
                        </a>
                    </div>
                </div>
            </div>
            {{ macro.form_row(form.price, '商品价格', {'attr': {'class': 'form-control'}}) }}
            {{ macro.form_row(form.discount_price, '商品折后价', {'attr': {'class': 'form-control'}}) }}
            {{ macro.form_row(form.inventory, '可售库存', {'attr': {'class': "form-control"}}) }}
            {{ macro.form_row(form.meta_keyword, 'SEO关键词', {'attr': {'class': "form-control"}}, "多个关键词使用英文逗号(,)隔开") }}
            {{ macro.form_row(form.meta_description, 'SEO描述', {'attr': {'class': "form-control", 'rows': 6}}, "建议128个字符内") }}
            {{ form_rest(form) }}
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" class="btn btn-success">保存</button>
                </div>
            </div>
            {{ form_end(form) }}
        </div>
    </div>
{% endblock %}

